"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/chat/[room]",{

/***/ "(pages-dir-browser)/./components/ChatInput.js":
/*!*********************************!*\
  !*** ./components/ChatInput.js ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(pages-dir-browser)/./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _vapor_ui_icons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @vapor-ui/icons */ \"(pages-dir-browser)/./node_modules/@vapor-ui/icons/dist/index.js\");\n/* harmony import */ var _vapor_ui_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @vapor-ui/core */ \"(pages-dir-browser)/./node_modules/@vapor-ui/core/dist/index.js\");\n/* harmony import */ var _EmojiPicker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./EmojiPicker */ \"(pages-dir-browser)/./components/EmojiPicker.js\");\n/* harmony import */ var _MentionDropdown__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MentionDropdown */ \"(pages-dir-browser)/./components/MentionDropdown.js\");\n/* harmony import */ var _FilePreview__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./FilePreview */ \"(pages-dir-browser)/./components/FilePreview.js\");\n/* harmony import */ var _services_fileService__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/services/fileService */ \"(pages-dir-browser)/./services/fileService.js\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\nconst ChatInput = /*#__PURE__*/ _s((0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(_c = _s((param, ref)=>{\n    let { message = '', onMessageChange = ()=>{}, onSubmit = ()=>{}, onEmojiToggle = ()=>{}, onFileSelect = ()=>{}, fileInputRef, disabled = false, uploading: externalUploading = false, showEmojiPicker = false, showMentionList = false, mentionFilter = '', mentionIndex = 0, getFilteredParticipants = ()=>[], setMessage = ()=>{}, setShowEmojiPicker = ()=>{}, setShowMentionList = ()=>{}, setMentionFilter = ()=>{}, setMentionIndex = ()=>{}, room = null // room prop 추가\n     } = param;\n    _s();\n    const emojiPickerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const emojiButtonRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const dropZoneRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const internalInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const messageInputRef = ref || internalInputRef;\n    const [files, setFiles] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [uploading, setUploading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [uploadProgress, setUploadProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [uploadError, setUploadError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isDragging, setIsDragging] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [mentionPosition, setMentionPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        top: 0,\n        left: 0\n    });\n    const submittingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const handleFileValidationAndPreview = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"ChatInput.useCallback[handleFileValidationAndPreview]\": async (file)=>{\n            if (!file) return;\n            try {\n                await _services_fileService__WEBPACK_IMPORTED_MODULE_6__[\"default\"].validateFile(file);\n                const filePreview = {\n                    file,\n                    url: URL.createObjectURL(file),\n                    name: file.name,\n                    type: file.type,\n                    size: file.size\n                };\n                setFiles({\n                    \"ChatInput.useCallback[handleFileValidationAndPreview]\": (prev)=>[\n                            ...prev,\n                            filePreview\n                        ]\n                }[\"ChatInput.useCallback[handleFileValidationAndPreview]\"]);\n                setUploadError(null);\n                onFileSelect === null || onFileSelect === void 0 ? void 0 : onFileSelect(file);\n            } catch (error) {\n                console.error('File validation error:', error);\n                setUploadError(error.message);\n            } finally{\n                if (fileInputRef === null || fileInputRef === void 0 ? void 0 : fileInputRef.current) {\n                    fileInputRef.current.value = '';\n                }\n            }\n        }\n    }[\"ChatInput.useCallback[handleFileValidationAndPreview]\"], [\n        onFileSelect\n    ]);\n    const handleFileRemove = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"ChatInput.useCallback[handleFileRemove]\": (fileToRemove)=>{\n            setFiles({\n                \"ChatInput.useCallback[handleFileRemove]\": (prev)=>prev.filter({\n                        \"ChatInput.useCallback[handleFileRemove]\": (file)=>file.name !== fileToRemove.name\n                    }[\"ChatInput.useCallback[handleFileRemove]\"])\n            }[\"ChatInput.useCallback[handleFileRemove]\"]);\n            URL.revokeObjectURL(fileToRemove.url);\n            setUploadError(null);\n            setUploadProgress(0);\n        }\n    }[\"ChatInput.useCallback[handleFileRemove]\"], []);\n    const handleFileDrop = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"ChatInput.useCallback[handleFileDrop]\": async (e)=>{\n            e.preventDefault();\n            e.stopPropagation();\n            setIsDragging(false);\n            const droppedFiles = Array.from(e.dataTransfer.files);\n            if (droppedFiles.length === 0) return;\n            try {\n                await handleFileValidationAndPreview(droppedFiles[0]);\n            } catch (error) {\n                console.error('File drop error:', error);\n            }\n        }\n    }[\"ChatInput.useCallback[handleFileDrop]\"], [\n        handleFileValidationAndPreview\n    ]);\n    const handleSubmit = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"ChatInput.useCallback[handleSubmit]\": async (e)=>{\n            if (submittingRef.current) return;\n            submittingRef.current = true;\n            e === null || e === void 0 ? void 0 : e.preventDefault();\n            try {\n                if (files.length > 0) {\n                    const file = files[0];\n                    if (!file || !file.file) {\n                        throw new Error('파일이 선택되지 않았습니다.');\n                    }\n                    onSubmit({\n                        type: 'file',\n                        content: message.trim(),\n                        fileData: file\n                    });\n                    setMessage('');\n                    setFiles([]);\n                } else if (message.trim()) {\n                    onSubmit({\n                        type: 'text',\n                        content: message.trim()\n                    });\n                    setMessage('');\n                }\n            } catch (error) {\n                console.error('File submit error:', error);\n                setUploadError(error.message);\n            } finally{\n                // 동일 tick 안에서 중복 호출 방지\n                setTimeout({\n                    \"ChatInput.useCallback[handleSubmit]\": ()=>{\n                        submittingRef.current = false;\n                    }\n                }[\"ChatInput.useCallback[handleSubmit]\"], 0);\n            }\n        }\n    }[\"ChatInput.useCallback[handleSubmit]\"], [\n        files,\n        message,\n        onSubmit,\n        setMessage\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ChatInput.useEffect\": ()=>{\n            const handleClickOutside = {\n                \"ChatInput.useEffect.handleClickOutside\": (event)=>{\n                    var _emojiPickerRef_current, _emojiButtonRef_current;\n                    if (showEmojiPicker && !((_emojiPickerRef_current = emojiPickerRef.current) === null || _emojiPickerRef_current === void 0 ? void 0 : _emojiPickerRef_current.contains(event.target)) && !((_emojiButtonRef_current = emojiButtonRef.current) === null || _emojiButtonRef_current === void 0 ? void 0 : _emojiButtonRef_current.contains(event.target))) {\n                        setShowEmojiPicker(false);\n                    }\n                }\n            }[\"ChatInput.useEffect.handleClickOutside\"];\n            const handlePaste = {\n                \"ChatInput.useEffect.handlePaste\": async (event)=>{\n                    var _messageInputRef_current, _event_clipboardData;\n                    if (!(messageInputRef === null || messageInputRef === void 0 ? void 0 : (_messageInputRef_current = messageInputRef.current) === null || _messageInputRef_current === void 0 ? void 0 : _messageInputRef_current.contains(event.target))) return;\n                    const items = (_event_clipboardData = event.clipboardData) === null || _event_clipboardData === void 0 ? void 0 : _event_clipboardData.items;\n                    if (!items) return;\n                    const fileItem = Array.from(items).find({\n                        \"ChatInput.useEffect.handlePaste.fileItem\": (item)=>item.kind === 'file' && (item.type.startsWith('image/') || item.type.startsWith('video/') || item.type.startsWith('audio/') || item.type === 'application/pdf')\n                    }[\"ChatInput.useEffect.handlePaste.fileItem\"]);\n                    if (!fileItem) return;\n                    const file = fileItem.getAsFile();\n                    if (!file) return;\n                    try {\n                        await handleFileValidationAndPreview(file);\n                        event.preventDefault();\n                    } catch (error) {\n                        console.error('File paste error:', error);\n                    }\n                }\n            }[\"ChatInput.useEffect.handlePaste\"];\n            document.addEventListener('mousedown', handleClickOutside);\n            document.addEventListener('paste', handlePaste);\n            return ({\n                \"ChatInput.useEffect\": ()=>{\n                    document.removeEventListener('mousedown', handleClickOutside);\n                    document.removeEventListener('paste', handlePaste);\n                    files.forEach({\n                        \"ChatInput.useEffect\": (file)=>URL.revokeObjectURL(file.url)\n                    }[\"ChatInput.useEffect\"]);\n                }\n            })[\"ChatInput.useEffect\"];\n        }\n    }[\"ChatInput.useEffect\"], [\n        showEmojiPicker,\n        setShowEmojiPicker,\n        files,\n        messageInputRef,\n        handleFileValidationAndPreview\n    ]);\n    const calculateMentionPosition = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"ChatInput.useCallback[calculateMentionPosition]\": (textarea, atIndex)=>{\n            // Get all text before @ symbol\n            const textBeforeAt = textarea.value.slice(0, atIndex);\n            const lines = textBeforeAt.split('\\n');\n            const currentLineIndex = lines.length - 1;\n            const currentLineText = lines[currentLineIndex];\n            // Create a hidden div to measure exact text width\n            const measureDiv = document.createElement('div');\n            measureDiv.style.position = 'absolute';\n            measureDiv.style.visibility = 'hidden';\n            measureDiv.style.whiteSpace = 'pre';\n            measureDiv.style.font = window.getComputedStyle(textarea).font;\n            measureDiv.style.fontSize = window.getComputedStyle(textarea).fontSize;\n            measureDiv.style.fontFamily = window.getComputedStyle(textarea).fontFamily;\n            measureDiv.style.fontWeight = window.getComputedStyle(textarea).fontWeight;\n            measureDiv.style.letterSpacing = window.getComputedStyle(textarea).letterSpacing;\n            measureDiv.style.textTransform = window.getComputedStyle(textarea).textTransform;\n            measureDiv.textContent = currentLineText;\n            document.body.appendChild(measureDiv);\n            const textWidth = measureDiv.offsetWidth;\n            document.body.removeChild(measureDiv);\n            // Get textarea position and compute styles\n            const textareaRect = textarea.getBoundingClientRect();\n            const computedStyle = window.getComputedStyle(textarea);\n            const paddingLeft = parseInt(computedStyle.paddingLeft);\n            const paddingTop = parseInt(computedStyle.paddingTop);\n            const lineHeight = parseInt(computedStyle.lineHeight) || parseFloat(computedStyle.fontSize) * 1.5;\n            const scrollTop = textarea.scrollTop;\n            // Calculate exact position of @ symbol\n            let left = textareaRect.left + paddingLeft + textWidth;\n            // Position directly above the @ character (with small gap)\n            let top = textareaRect.top + paddingTop + currentLineIndex * lineHeight - scrollTop;\n            // Ensure dropdown stays within viewport\n            const dropdownWidth = 320; // Approximate width\n            const dropdownHeight = 250; // Approximate height\n            const viewportWidth = window.innerWidth;\n            const viewportHeight = window.innerHeight;\n            // Adjust horizontal position if needed\n            if (left + dropdownWidth > viewportWidth) {\n                left = viewportWidth - dropdownWidth - 10;\n            }\n            if (left < 10) {\n                left = 10;\n            }\n            // Position dropdown 40px lower to be closer to the @ cursor\n            top = top + 40; // Move 40px down from the cursor line\n            // If not enough space above, show below\n            if (top - dropdownHeight < 10) {\n                top = textareaRect.top + paddingTop + (currentLineIndex + 1) * lineHeight - scrollTop + 2;\n            } else {\n                // Show above - adjust top to account for dropdown height\n                top = top - dropdownHeight;\n            }\n            return {\n                top,\n                left\n            };\n        }\n    }[\"ChatInput.useCallback[calculateMentionPosition]\"], []);\n    const handleInputChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"ChatInput.useCallback[handleInputChange]\": (e)=>{\n            const value = e.target.value;\n            const cursorPosition = e.target.selectionStart;\n            const textBeforeCursor = value.slice(0, cursorPosition);\n            const lastAtSymbol = textBeforeCursor.lastIndexOf('@');\n            onMessageChange(e);\n            if (lastAtSymbol !== -1) {\n                const textAfterAt = textBeforeCursor.slice(lastAtSymbol + 1);\n                const hasSpaceAfterAt = textAfterAt.includes(' ');\n                if (!hasSpaceAfterAt) {\n                    setMentionFilter(textAfterAt.toLowerCase());\n                    setShowMentionList(true);\n                    setMentionIndex(0);\n                    // Calculate and set mention dropdown position\n                    const position = calculateMentionPosition(e.target, lastAtSymbol);\n                    setMentionPosition(position);\n                    return;\n                }\n            }\n            setShowMentionList(false);\n        }\n    }[\"ChatInput.useCallback[handleInputChange]\"], [\n        onMessageChange,\n        setMentionFilter,\n        setShowMentionList,\n        setMentionIndex,\n        calculateMentionPosition\n    ]);\n    const handleMentionSelect = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"ChatInput.useCallback[handleMentionSelect]\": (user)=>{\n            if (!(messageInputRef === null || messageInputRef === void 0 ? void 0 : messageInputRef.current)) return;\n            const cursorPosition = messageInputRef.current.selectionStart;\n            const textBeforeCursor = message.slice(0, cursorPosition);\n            const textAfterCursor = message.slice(cursorPosition);\n            const lastAtSymbol = textBeforeCursor.lastIndexOf('@');\n            if (lastAtSymbol !== -1) {\n                const newMessage = message.slice(0, lastAtSymbol) + \"@\".concat(user.name, \" \") + textAfterCursor;\n                setMessage(newMessage);\n                setShowMentionList(false);\n                setTimeout({\n                    \"ChatInput.useCallback[handleMentionSelect]\": ()=>{\n                        if (messageInputRef.current) {\n                            const newPosition = lastAtSymbol + user.name.length + 2;\n                            messageInputRef.current.focus();\n                            messageInputRef.current.setSelectionRange(newPosition, newPosition);\n                        }\n                    }\n                }[\"ChatInput.useCallback[handleMentionSelect]\"], 0);\n            }\n        }\n    }[\"ChatInput.useCallback[handleMentionSelect]\"], [\n        message,\n        setMessage,\n        setShowMentionList,\n        messageInputRef\n    ]);\n    const handleKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"ChatInput.useCallback[handleKeyDown]\": (e)=>{\n            if (showMentionList) {\n                const participants = getFilteredParticipants(room); // room 객체 전달\n                const participantsCount = participants.length;\n                switch(e.key){\n                    case 'ArrowDown':\n                        e.preventDefault();\n                        setMentionIndex({\n                            \"ChatInput.useCallback[handleKeyDown]\": (prev)=>prev < participantsCount - 1 ? prev + 1 : 0\n                        }[\"ChatInput.useCallback[handleKeyDown]\"]);\n                        break;\n                    case 'ArrowUp':\n                        e.preventDefault();\n                        setMentionIndex({\n                            \"ChatInput.useCallback[handleKeyDown]\": (prev)=>prev > 0 ? prev - 1 : participantsCount - 1\n                        }[\"ChatInput.useCallback[handleKeyDown]\"]);\n                        break;\n                    case 'Tab':\n                    case 'Enter':\n                        e.preventDefault();\n                        if (participantsCount > 0) {\n                            handleMentionSelect(participants[mentionIndex]);\n                        }\n                        break;\n                    case 'Escape':\n                        e.preventDefault();\n                        setShowMentionList(false);\n                        break;\n                    default:\n                        return;\n                }\n            } else if (e.key === 'Enter' && !e.shiftKey) {\n                e.preventDefault();\n                if (message.trim() || files.length > 0) {\n                    handleSubmit(e);\n                }\n            } else if (e.key === 'Escape' && showEmojiPicker) {\n                setShowEmojiPicker(false);\n            }\n        }\n    }[\"ChatInput.useCallback[handleKeyDown]\"], [\n        message,\n        files,\n        showMentionList,\n        showEmojiPicker,\n        mentionIndex,\n        getFilteredParticipants,\n        handleMentionSelect,\n        handleSubmit,\n        setMentionIndex,\n        setShowMentionList,\n        setShowEmojiPicker,\n        room // room 의존성 추가\n    ]);\n    const handleEmojiSelect = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"ChatInput.useCallback[handleEmojiSelect]\": (emoji)=>{\n            if (!(messageInputRef === null || messageInputRef === void 0 ? void 0 : messageInputRef.current)) return;\n            const cursorPosition = messageInputRef.current.selectionStart || message.length;\n            const newMessage = message.slice(0, cursorPosition) + emoji.native + message.slice(cursorPosition);\n            setMessage(newMessage);\n            setShowEmojiPicker(false);\n            setTimeout({\n                \"ChatInput.useCallback[handleEmojiSelect]\": ()=>{\n                    if (messageInputRef.current) {\n                        const newCursorPosition = cursorPosition + emoji.native.length;\n                        messageInputRef.current.focus();\n                        messageInputRef.current.setSelectionRange(newCursorPosition, newCursorPosition);\n                    }\n                }\n            }[\"ChatInput.useCallback[handleEmojiSelect]\"], 0);\n        }\n    }[\"ChatInput.useCallback[handleEmojiSelect]\"], [\n        message,\n        setMessage,\n        setShowEmojiPicker,\n        messageInputRef\n    ]);\n    const toggleEmojiPicker = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"ChatInput.useCallback[toggleEmojiPicker]\": ()=>{\n            setShowEmojiPicker({\n                \"ChatInput.useCallback[toggleEmojiPicker]\": (prev)=>!prev\n            }[\"ChatInput.useCallback[toggleEmojiPicker]\"]);\n        }\n    }[\"ChatInput.useCallback[toggleEmojiPicker]\"], [\n        setShowEmojiPicker\n    ]);\n    const isDisabled = disabled || uploading || externalUploading;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vapor_ui_core__WEBPACK_IMPORTED_MODULE_7__.Box, {\n                ref: dropZoneRef,\n                className: \"relative\",\n                padding: \"$200 $400\",\n                onDragEnter: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    setIsDragging(true);\n                },\n                onDragLeave: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    setIsDragging(false);\n                },\n                onDragOver: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                    setIsDragging(true);\n                },\n                onDrop: handleFileDrop,\n                children: [\n                    files.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vapor_ui_core__WEBPACK_IMPORTED_MODULE_7__.Box, {\n                        className: \"absolute bottom-full left-0 right-0 mb-2 z-1000\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_FilePreview__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                            files: files,\n                            uploading: uploading,\n                            uploadProgress: uploadProgress,\n                            uploadError: uploadError,\n                            onRemove: handleFileRemove,\n                            onRetry: ()=>setUploadError(null),\n                            showFileName: true,\n                            showFileSize: true,\n                            variant: \"default\"\n                        }, void 0, false, {\n                            fileName: \"/Users/junseopark/Desktop/ktb-BootcampChat/apps/frontend/components/ChatInput.js\",\n                            lineNumber: 421,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/junseopark/Desktop/ktb-BootcampChat/apps/frontend/components/ChatInput.js\",\n                        lineNumber: 418,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vapor_ui_core__WEBPACK_IMPORTED_MODULE_7__.VStack, {\n                        gap: \"$100\",\n                        width: \"100%\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vapor_ui_core__WEBPACK_IMPORTED_MODULE_7__.VStack, {\n                            gap: \"$025\",\n                            className: \"relative\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vapor_ui_core__WEBPACK_IMPORTED_MODULE_7__.HStack, {\n                                    gap: \"$200\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vapor_ui_core__WEBPACK_IMPORTED_MODULE_7__.Textarea, {\n                                            ref: messageInputRef,\n                                            value: message,\n                                            onChange: handleInputChange,\n                                            onKeyDown: handleKeyDown,\n                                            placeholder: isDragging ? \"파일을 여기에 놓아주세요.\" : \"메시지를 입력하세요... (@를 입력하여 멘션, Shift + Enter로 줄바꿈)\",\n                                            disabled: isDisabled,\n                                            rows: 1,\n                                            autoComplete: \"off\",\n                                            spellCheck: \"true\",\n                                            size: \"xl\",\n                                            autoResize: true,\n                                            \"data-testid\": \"chat-message-input\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/junseopark/Desktop/ktb-BootcampChat/apps/frontend/components/ChatInput.js\",\n                                            lineNumber: 438,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vapor_ui_core__WEBPACK_IMPORTED_MODULE_7__.IconButton, {\n                                            size: \"xl\",\n                                            onClick: handleSubmit,\n                                            disabled: isDisabled || !message.trim() && files.length === 0,\n                                            \"aria-label\": \"메시지 보내기\",\n                                            \"data-testid\": \"chat-send-button\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vapor_ui_icons__WEBPACK_IMPORTED_MODULE_2__.SendIcon, {}, void 0, false, {\n                                                fileName: \"/Users/junseopark/Desktop/ktb-BootcampChat/apps/frontend/components/ChatInput.js\",\n                                                lineNumber: 460,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/junseopark/Desktop/ktb-BootcampChat/apps/frontend/components/ChatInput.js\",\n                                            lineNumber: 453,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/junseopark/Desktop/ktb-BootcampChat/apps/frontend/components/ChatInput.js\",\n                                    lineNumber: 437,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vapor_ui_core__WEBPACK_IMPORTED_MODULE_7__.HStack, {\n                                    gap: \"$100\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vapor_ui_core__WEBPACK_IMPORTED_MODULE_7__.IconButton, {\n                                            ref: emojiButtonRef,\n                                            colorPalette: \"contrast\",\n                                            variant: \"ghost\",\n                                            size: \"md\",\n                                            onClick: toggleEmojiPicker,\n                                            disabled: isDisabled,\n                                            \"aria-label\": \"이모티콘\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vapor_ui_icons__WEBPACK_IMPORTED_MODULE_2__.LikeIcon, {}, void 0, false, {\n                                                fileName: \"/Users/junseopark/Desktop/ktb-BootcampChat/apps/frontend/components/ChatInput.js\",\n                                                lineNumber: 474,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/junseopark/Desktop/ktb-BootcampChat/apps/frontend/components/ChatInput.js\",\n                                            lineNumber: 465,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vapor_ui_core__WEBPACK_IMPORTED_MODULE_7__.IconButton, {\n                                            colorPalette: \"contrast\",\n                                            variant: \"ghost\",\n                                            size: \"md\",\n                                            onClick: ()=>{\n                                                var _fileInputRef_current;\n                                                return fileInputRef === null || fileInputRef === void 0 ? void 0 : (_fileInputRef_current = fileInputRef.current) === null || _fileInputRef_current === void 0 ? void 0 : _fileInputRef_current.click();\n                                            },\n                                            disabled: isDisabled,\n                                            \"aria-label\": \"파일 첨부\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vapor_ui_icons__WEBPACK_IMPORTED_MODULE_2__.AttachFileOutlineIcon, {}, void 0, false, {\n                                                fileName: \"/Users/junseopark/Desktop/ktb-BootcampChat/apps/frontend/components/ChatInput.js\",\n                                                lineNumber: 484,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/junseopark/Desktop/ktb-BootcampChat/apps/frontend/components/ChatInput.js\",\n                                            lineNumber: 476,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/junseopark/Desktop/ktb-BootcampChat/apps/frontend/components/ChatInput.js\",\n                                    lineNumber: 464,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"file\",\n                                    ref: fileInputRef,\n                                    onChange: (e)=>{\n                                        var _e_target_files;\n                                        return handleFileValidationAndPreview((_e_target_files = e.target.files) === null || _e_target_files === void 0 ? void 0 : _e_target_files[0]);\n                                    },\n                                    style: {\n                                        display: 'none'\n                                    },\n                                    accept: \"image/*,application/pdf\",\n                                    \"data-testid\": \"file-upload-input\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/junseopark/Desktop/ktb-BootcampChat/apps/frontend/components/ChatInput.js\",\n                                    lineNumber: 488,\n                                    columnNumber: 13\n                                }, undefined),\n                                showEmojiPicker && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vapor_ui_core__WEBPACK_IMPORTED_MODULE_7__.Box, {\n                                    ref: emojiPickerRef,\n                                    onClick: (e)=>e.stopPropagation(),\n                                    className: \"absolute bottom-full left-0 z-1000\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_EmojiPicker__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                        onSelect: handleEmojiSelect,\n                                        emojiSize: 20,\n                                        emojiButtonSize: 36,\n                                        perLine: 8,\n                                        maxFrequentRows: 4\n                                    }, void 0, false, {\n                                        fileName: \"/Users/junseopark/Desktop/ktb-BootcampChat/apps/frontend/components/ChatInput.js\",\n                                        lineNumber: 503,\n                                        columnNumber: 17\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/junseopark/Desktop/ktb-BootcampChat/apps/frontend/components/ChatInput.js\",\n                                    lineNumber: 498,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/junseopark/Desktop/ktb-BootcampChat/apps/frontend/components/ChatInput.js\",\n                            lineNumber: 436,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/junseopark/Desktop/ktb-BootcampChat/apps/frontend/components/ChatInput.js\",\n                        lineNumber: 435,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/junseopark/Desktop/ktb-BootcampChat/apps/frontend/components/ChatInput.js\",\n                lineNumber: 396,\n                columnNumber: 7\n            }, undefined),\n            showMentionList && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vapor_ui_core__WEBPACK_IMPORTED_MODULE_7__.Box, {\n                className: \"fixed z-9999\",\n                style: {\n                    top: \"\".concat(mentionPosition.top, \"px\"),\n                    left: \"\".concat(mentionPosition.left, \"px\")\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_MentionDropdown__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                    participants: getFilteredParticipants(room),\n                    activeIndex: mentionIndex,\n                    onSelect: handleMentionSelect,\n                    onMouseEnter: (index)=>setMentionIndex(index)\n                }, void 0, false, {\n                    fileName: \"/Users/junseopark/Desktop/ktb-BootcampChat/apps/frontend/components/ChatInput.js\",\n                    lineNumber: 524,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/junseopark/Desktop/ktb-BootcampChat/apps/frontend/components/ChatInput.js\",\n                lineNumber: 517,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true);\n}, \"7YFKmNm70wffv8W4LSZRBjZUATg=\")), \"7YFKmNm70wffv8W4LSZRBjZUATg=\");\n_c1 = ChatInput;\nChatInput.displayName = 'ChatInput';\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChatInput);\nvar _c, _c1;\n$RefreshReg$(_c, \"ChatInput$forwardRef\");\n$RefreshReg$(_c1, \"ChatInput\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL2NvbXBvbmVudHMvQ2hhdElucHV0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBb0Y7QUFLM0Q7QUFDaUU7QUFDbEQ7QUFDUTtBQUNSO0FBQ1M7QUFFakQsTUFBTW9CLDBCQUFZZixHQUFBQSxpREFBVUEsU0FBQyxRQW9CMUJnQjtRQXBCMkIsRUFDNUJDLFVBQVUsRUFBRSxFQUNaQyxrQkFBa0IsS0FBTyxDQUFDLEVBQzFCQyxXQUFXLEtBQU8sQ0FBQyxFQUNuQkMsZ0JBQWdCLEtBQU8sQ0FBQyxFQUN4QkMsZUFBZSxLQUFPLENBQUMsRUFDdkJDLFlBQVksRUFDWkMsV0FBVyxLQUFLLEVBQ2hCQyxXQUFXQyxvQkFBb0IsS0FBSyxFQUNwQ0Msa0JBQWtCLEtBQUssRUFDdkJDLGtCQUFrQixLQUFLLEVBQ3ZCQyxnQkFBZ0IsRUFBRSxFQUNsQkMsZUFBZSxDQUFDLEVBQ2hCQywwQkFBMEIsSUFBTSxFQUFFLEVBQ2xDQyxhQUFhLEtBQU8sQ0FBQyxFQUNyQkMscUJBQXFCLEtBQU8sQ0FBQyxFQUM3QkMscUJBQXFCLEtBQU8sQ0FBQyxFQUM3QkMsbUJBQW1CLEtBQU8sQ0FBQyxFQUMzQkMsa0JBQWtCLEtBQU8sQ0FBQyxFQUMxQkMsT0FBTyxLQUFLLGVBQWU7SUFBaEIsRUFDWjs7SUFDQyxNQUFNQyxpQkFBaUJ2Qyw2Q0FBTUEsQ0FBQztJQUM5QixNQUFNd0MsaUJBQWlCeEMsNkNBQU1BLENBQUM7SUFDOUIsTUFBTXlDLGNBQWN6Qyw2Q0FBTUEsQ0FBQztJQUMzQixNQUFNMEMsbUJBQW1CMUMsNkNBQU1BLENBQUM7SUFDaEMsTUFBTTJDLGtCQUFrQnpCLE9BQU93QjtJQUMvQixNQUFNLENBQUNFLE9BQU9DLFNBQVMsR0FBRzVDLCtDQUFRQSxDQUFDLEVBQUU7SUFDckMsTUFBTSxDQUFDeUIsV0FBV29CLGFBQWEsR0FBRzdDLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQzhDLGdCQUFnQkMsa0JBQWtCLEdBQUcv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QU1yRDs7QUFFQXZNLFVBQVV3TSxXQUFXLEdBQUc7QUFFeEIsaUVBQWV4TSxTQUFTQSxFQUFDIiwic291cmNlcyI6WyIvVXNlcnMvanVuc2VvcGFyay9EZXNrdG9wL2t0Yi1Cb290Y2FtcENoYXQvYXBwcy9mcm9udGVuZC9jb21wb25lbnRzL0NoYXRJbnB1dC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSwgZm9yd2FyZFJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFxuICBMaWtlSWNvbixcbiAgQXR0YWNoRmlsZU91dGxpbmVJY29uLFxuICBTZW5kSWNvblxufSBmcm9tICdAdmFwb3ItdWkvaWNvbnMnO1xuaW1wb3J0IHsgQnV0dG9uLCBJY29uQnV0dG9uLCBWU3RhY2ssIEhTdGFjaywgQm94LCBGaWVsZCwgVGV4dGFyZWEgfSBmcm9tICdAdmFwb3ItdWkvY29yZSc7XG5pbXBvcnQgRW1vamlQaWNrZXIgZnJvbSAnLi9FbW9qaVBpY2tlcic7XG5pbXBvcnQgTWVudGlvbkRyb3Bkb3duIGZyb20gJy4vTWVudGlvbkRyb3Bkb3duJztcbmltcG9ydCBGaWxlUHJldmlldyBmcm9tICcuL0ZpbGVQcmV2aWV3JztcbmltcG9ydCBmaWxlU2VydmljZSBmcm9tICdAL3NlcnZpY2VzL2ZpbGVTZXJ2aWNlJztcblxuY29uc3QgQ2hhdElucHV0ID0gZm9yd2FyZFJlZigoe1xuICBtZXNzYWdlID0gJycsXG4gIG9uTWVzc2FnZUNoYW5nZSA9ICgpID0+IHt9LFxuICBvblN1Ym1pdCA9ICgpID0+IHt9LFxuICBvbkVtb2ppVG9nZ2xlID0gKCkgPT4ge30sXG4gIG9uRmlsZVNlbGVjdCA9ICgpID0+IHt9LFxuICBmaWxlSW5wdXRSZWYsXG4gIGRpc2FibGVkID0gZmFsc2UsXG4gIHVwbG9hZGluZzogZXh0ZXJuYWxVcGxvYWRpbmcgPSBmYWxzZSxcbiAgc2hvd0Vtb2ppUGlja2VyID0gZmFsc2UsXG4gIHNob3dNZW50aW9uTGlzdCA9IGZhbHNlLFxuICBtZW50aW9uRmlsdGVyID0gJycsXG4gIG1lbnRpb25JbmRleCA9IDAsXG4gIGdldEZpbHRlcmVkUGFydGljaXBhbnRzID0gKCkgPT4gW10sXG4gIHNldE1lc3NhZ2UgPSAoKSA9PiB7fSxcbiAgc2V0U2hvd0Vtb2ppUGlja2VyID0gKCkgPT4ge30sXG4gIHNldFNob3dNZW50aW9uTGlzdCA9ICgpID0+IHt9LFxuICBzZXRNZW50aW9uRmlsdGVyID0gKCkgPT4ge30sXG4gIHNldE1lbnRpb25JbmRleCA9ICgpID0+IHt9LFxuICByb29tID0gbnVsbCAvLyByb29tIHByb3Ag7LaU6rCAXG59LCByZWYpID0+IHtcbiAgY29uc3QgZW1vamlQaWNrZXJSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGVtb2ppQnV0dG9uUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBkcm9wWm9uZVJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgaW50ZXJuYWxJbnB1dFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgbWVzc2FnZUlucHV0UmVmID0gcmVmIHx8IGludGVybmFsSW5wdXRSZWY7XG4gIGNvbnN0IFtmaWxlcywgc2V0RmlsZXNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbdXBsb2FkaW5nLCBzZXRVcGxvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdXBsb2FkUHJvZ3Jlc3MsIHNldFVwbG9hZFByb2dyZXNzXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbdXBsb2FkRXJyb3IsIHNldFVwbG9hZEVycm9yXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbaXNEcmFnZ2luZywgc2V0SXNEcmFnZ2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFttZW50aW9uUG9zaXRpb24sIHNldE1lbnRpb25Qb3NpdGlvbl0gPSB1c2VTdGF0ZSh7IHRvcDogMCwgbGVmdDogMCB9KTtcbiAgY29uc3Qgc3VibWl0dGluZ1JlZiA9IHVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IGhhbmRsZUZpbGVWYWxpZGF0aW9uQW5kUHJldmlldyA9IHVzZUNhbGxiYWNrKGFzeW5jIChmaWxlKSA9PiB7XG4gICAgaWYgKCFmaWxlKSByZXR1cm47XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgZmlsZVNlcnZpY2UudmFsaWRhdGVGaWxlKGZpbGUpO1xuICAgICAgXG4gICAgICBjb25zdCBmaWxlUHJldmlldyA9IHtcbiAgICAgICAgZmlsZSxcbiAgICAgICAgdXJsOiBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpLFxuICAgICAgICBuYW1lOiBmaWxlLm5hbWUsXG4gICAgICAgIHR5cGU6IGZpbGUudHlwZSxcbiAgICAgICAgc2l6ZTogZmlsZS5zaXplXG4gICAgICB9O1xuICAgICAgXG4gICAgICBzZXRGaWxlcyhwcmV2ID0+IFsuLi5wcmV2LCBmaWxlUHJldmlld10pO1xuICAgICAgc2V0VXBsb2FkRXJyb3IobnVsbCk7XG4gICAgICBvbkZpbGVTZWxlY3Q/LihmaWxlKTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGaWxlIHZhbGlkYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgICAgc2V0VXBsb2FkRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChmaWxlSW5wdXRSZWY/LmN1cnJlbnQpIHtcbiAgICAgICAgZmlsZUlucHV0UmVmLmN1cnJlbnQudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtvbkZpbGVTZWxlY3RdKTtcblxuICBjb25zdCBoYW5kbGVGaWxlUmVtb3ZlID0gdXNlQ2FsbGJhY2soKGZpbGVUb1JlbW92ZSkgPT4ge1xuICAgIHNldEZpbGVzKHByZXYgPT4gcHJldi5maWx0ZXIoZmlsZSA9PiBmaWxlLm5hbWUgIT09IGZpbGVUb1JlbW92ZS5uYW1lKSk7XG4gICAgVVJMLnJldm9rZU9iamVjdFVSTChmaWxlVG9SZW1vdmUudXJsKTtcbiAgICBzZXRVcGxvYWRFcnJvcihudWxsKTtcbiAgICBzZXRVcGxvYWRQcm9ncmVzcygwKTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZUZpbGVEcm9wID0gdXNlQ2FsbGJhY2soYXN5bmMgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBzZXRJc0RyYWdnaW5nKGZhbHNlKTtcblxuICAgIGNvbnN0IGRyb3BwZWRGaWxlcyA9IEFycmF5LmZyb20oZS5kYXRhVHJhbnNmZXIuZmlsZXMpO1xuICAgIGlmIChkcm9wcGVkRmlsZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgaGFuZGxlRmlsZVZhbGlkYXRpb25BbmRQcmV2aWV3KGRyb3BwZWRGaWxlc1swXSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZpbGUgZHJvcCBlcnJvcjonLCBlcnJvcik7XG4gICAgfVxuICB9LCBbaGFuZGxlRmlsZVZhbGlkYXRpb25BbmRQcmV2aWV3XSk7XG5cbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKGUpID0+IHtcblxuICAgIGlmIChzdWJtaXR0aW5nUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICBzdWJtaXR0aW5nUmVmLmN1cnJlbnQgPSB0cnVlO1xuXG4gICAgZT8ucHJldmVudERlZmF1bHQoKTtcblxuICAgIHRyeSB7XG4gICAgICBpZiAoZmlsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBmaWxlID0gZmlsZXNbMF07XG4gICAgICAgIGlmICghZmlsZSB8fCAhZmlsZS5maWxlKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCftjIzsnbzsnbQg7ISg7YOd65CY7KeAIOyViuyVmOyKteuLiOuLpC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9uU3VibWl0KHtcbiAgICAgICAgICB0eXBlOiAnZmlsZScsXG4gICAgICAgICAgY29udGVudDogbWVzc2FnZS50cmltKCksXG4gICAgICAgICAgZmlsZURhdGE6IGZpbGVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2V0TWVzc2FnZSgnJyk7XG4gICAgICAgIHNldEZpbGVzKFtdKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKG1lc3NhZ2UudHJpbSgpKSB7XG4gICAgICAgIG9uU3VibWl0KHtcbiAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgY29udGVudDogbWVzc2FnZS50cmltKClcbiAgICAgICAgfSk7XG4gICAgICAgIHNldE1lc3NhZ2UoJycpO1xuICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZpbGUgc3VibWl0IGVycm9yOicsIGVycm9yKTtcbiAgICAgIHNldFVwbG9hZEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgIC8vIOuPmeydvCB0aWNrIOyViOyXkOyEnCDspJHrs7Ug7Zi47LacIOuwqeyngFxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHN1Ym1pdHRpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgfSwgMCk7XG4gICAgfVxuXG4gIH0sIFtmaWxlcywgbWVzc2FnZSwgb25TdWJtaXQsIHNldE1lc3NhZ2VdKTtcblxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlQ2xpY2tPdXRzaWRlID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIHNob3dFbW9qaVBpY2tlciAmJlxuICAgICAgICAhZW1vamlQaWNrZXJSZWYuY3VycmVudD8uY29udGFpbnMoZXZlbnQudGFyZ2V0KSAmJlxuICAgICAgICAhZW1vamlCdXR0b25SZWYuY3VycmVudD8uY29udGFpbnMoZXZlbnQudGFyZ2V0KVxuICAgICAgKSB7XG4gICAgICAgIHNldFNob3dFbW9qaVBpY2tlcihmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVBhc3RlID0gYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIW1lc3NhZ2VJbnB1dFJlZj8uY3VycmVudD8uY29udGFpbnMoZXZlbnQudGFyZ2V0KSkgcmV0dXJuO1xuXG4gICAgICBjb25zdCBpdGVtcyA9IGV2ZW50LmNsaXBib2FyZERhdGE/Lml0ZW1zO1xuICAgICAgaWYgKCFpdGVtcykgcmV0dXJuO1xuXG4gICAgICBjb25zdCBmaWxlSXRlbSA9IEFycmF5LmZyb20oaXRlbXMpLmZpbmQoXG4gICAgICAgIGl0ZW0gPT4gaXRlbS5raW5kID09PSAnZmlsZScgJiYgXG4gICAgICAgIChpdGVtLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykgfHwgXG4gICAgICAgICBpdGVtLnR5cGUuc3RhcnRzV2l0aCgndmlkZW8vJykgfHwgXG4gICAgICAgICBpdGVtLnR5cGUuc3RhcnRzV2l0aCgnYXVkaW8vJykgfHxcbiAgICAgICAgIGl0ZW0udHlwZSA9PT0gJ2FwcGxpY2F0aW9uL3BkZicpXG4gICAgICApO1xuXG4gICAgICBpZiAoIWZpbGVJdGVtKSByZXR1cm47XG5cbiAgICAgIGNvbnN0IGZpbGUgPSBmaWxlSXRlbS5nZXRBc0ZpbGUoKTtcbiAgICAgIGlmICghZmlsZSkgcmV0dXJuO1xuXG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBoYW5kbGVGaWxlVmFsaWRhdGlvbkFuZFByZXZpZXcoZmlsZSk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGaWxlIHBhc3RlIGVycm9yOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwYXN0ZScsIGhhbmRsZVBhc3RlKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVDbGlja091dHNpZGUpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncGFzdGUnLCBoYW5kbGVQYXN0ZSk7XG4gICAgICBmaWxlcy5mb3JFYWNoKGZpbGUgPT4gVVJMLnJldm9rZU9iamVjdFVSTChmaWxlLnVybCkpO1xuICAgIH07XG4gIH0sIFtzaG93RW1vamlQaWNrZXIsIHNldFNob3dFbW9qaVBpY2tlciwgZmlsZXMsIG1lc3NhZ2VJbnB1dFJlZiwgaGFuZGxlRmlsZVZhbGlkYXRpb25BbmRQcmV2aWV3XSk7XG5cbiAgY29uc3QgY2FsY3VsYXRlTWVudGlvblBvc2l0aW9uID0gdXNlQ2FsbGJhY2soKHRleHRhcmVhLCBhdEluZGV4KSA9PiB7XG4gICAgLy8gR2V0IGFsbCB0ZXh0IGJlZm9yZSBAIHN5bWJvbFxuICAgIGNvbnN0IHRleHRCZWZvcmVBdCA9IHRleHRhcmVhLnZhbHVlLnNsaWNlKDAsIGF0SW5kZXgpO1xuICAgIGNvbnN0IGxpbmVzID0gdGV4dEJlZm9yZUF0LnNwbGl0KCdcXG4nKTtcbiAgICBjb25zdCBjdXJyZW50TGluZUluZGV4ID0gbGluZXMubGVuZ3RoIC0gMTtcbiAgICBjb25zdCBjdXJyZW50TGluZVRleHQgPSBsaW5lc1tjdXJyZW50TGluZUluZGV4XTtcbiAgICBcbiAgICAvLyBDcmVhdGUgYSBoaWRkZW4gZGl2IHRvIG1lYXN1cmUgZXhhY3QgdGV4dCB3aWR0aFxuICAgIGNvbnN0IG1lYXN1cmVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBtZWFzdXJlRGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBtZWFzdXJlRGl2LnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICBtZWFzdXJlRGl2LnN0eWxlLndoaXRlU3BhY2UgPSAncHJlJztcbiAgICBtZWFzdXJlRGl2LnN0eWxlLmZvbnQgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0ZXh0YXJlYSkuZm9udDtcbiAgICBtZWFzdXJlRGl2LnN0eWxlLmZvbnRTaXplID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGV4dGFyZWEpLmZvbnRTaXplO1xuICAgIG1lYXN1cmVEaXYuc3R5bGUuZm9udEZhbWlseSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRleHRhcmVhKS5mb250RmFtaWx5O1xuICAgIG1lYXN1cmVEaXYuc3R5bGUuZm9udFdlaWdodCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRleHRhcmVhKS5mb250V2VpZ2h0O1xuICAgIG1lYXN1cmVEaXYuc3R5bGUubGV0dGVyU3BhY2luZyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRleHRhcmVhKS5sZXR0ZXJTcGFjaW5nO1xuICAgIG1lYXN1cmVEaXYuc3R5bGUudGV4dFRyYW5zZm9ybSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRleHRhcmVhKS50ZXh0VHJhbnNmb3JtO1xuICAgIG1lYXN1cmVEaXYudGV4dENvbnRlbnQgPSBjdXJyZW50TGluZVRleHQ7XG4gICAgXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtZWFzdXJlRGl2KTtcbiAgICBjb25zdCB0ZXh0V2lkdGggPSBtZWFzdXJlRGl2Lm9mZnNldFdpZHRoO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobWVhc3VyZURpdik7XG4gICAgXG4gICAgLy8gR2V0IHRleHRhcmVhIHBvc2l0aW9uIGFuZCBjb21wdXRlIHN0eWxlc1xuICAgIGNvbnN0IHRleHRhcmVhUmVjdCA9IHRleHRhcmVhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0ZXh0YXJlYSk7XG4gICAgY29uc3QgcGFkZGluZ0xlZnQgPSBwYXJzZUludChjb21wdXRlZFN0eWxlLnBhZGRpbmdMZWZ0KTtcbiAgICBjb25zdCBwYWRkaW5nVG9wID0gcGFyc2VJbnQoY29tcHV0ZWRTdHlsZS5wYWRkaW5nVG9wKTtcbiAgICBjb25zdCBsaW5lSGVpZ2h0ID0gcGFyc2VJbnQoY29tcHV0ZWRTdHlsZS5saW5lSGVpZ2h0KSB8fCAocGFyc2VGbG9hdChjb21wdXRlZFN0eWxlLmZvbnRTaXplKSAqIDEuNSk7XG4gICAgY29uc3Qgc2Nyb2xsVG9wID0gdGV4dGFyZWEuc2Nyb2xsVG9wO1xuICAgIFxuICAgIC8vIENhbGN1bGF0ZSBleGFjdCBwb3NpdGlvbiBvZiBAIHN5bWJvbFxuICAgIGxldCBsZWZ0ID0gdGV4dGFyZWFSZWN0LmxlZnQgKyBwYWRkaW5nTGVmdCArIHRleHRXaWR0aDtcbiAgICAvLyBQb3NpdGlvbiBkaXJlY3RseSBhYm92ZSB0aGUgQCBjaGFyYWN0ZXIgKHdpdGggc21hbGwgZ2FwKVxuICAgIGxldCB0b3AgPSB0ZXh0YXJlYVJlY3QudG9wICsgcGFkZGluZ1RvcCArIChjdXJyZW50TGluZUluZGV4ICogbGluZUhlaWdodCkgLSBzY3JvbGxUb3A7XG4gICAgXG4gICAgLy8gRW5zdXJlIGRyb3Bkb3duIHN0YXlzIHdpdGhpbiB2aWV3cG9ydFxuICAgIGNvbnN0IGRyb3Bkb3duV2lkdGggPSAzMjA7IC8vIEFwcHJveGltYXRlIHdpZHRoXG4gICAgY29uc3QgZHJvcGRvd25IZWlnaHQgPSAyNTA7IC8vIEFwcHJveGltYXRlIGhlaWdodFxuICAgIGNvbnN0IHZpZXdwb3J0V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICBjb25zdCB2aWV3cG9ydEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICBcbiAgICAvLyBBZGp1c3QgaG9yaXpvbnRhbCBwb3NpdGlvbiBpZiBuZWVkZWRcbiAgICBpZiAobGVmdCArIGRyb3Bkb3duV2lkdGggPiB2aWV3cG9ydFdpZHRoKSB7XG4gICAgICBsZWZ0ID0gdmlld3BvcnRXaWR0aCAtIGRyb3Bkb3duV2lkdGggLSAxMDtcbiAgICB9XG4gICAgaWYgKGxlZnQgPCAxMCkge1xuICAgICAgbGVmdCA9IDEwO1xuICAgIH1cbiAgICBcbiAgICAvLyBQb3NpdGlvbiBkcm9wZG93biA0MHB4IGxvd2VyIHRvIGJlIGNsb3NlciB0byB0aGUgQCBjdXJzb3JcbiAgICB0b3AgPSB0b3AgKyA0MDsgLy8gTW92ZSA0MHB4IGRvd24gZnJvbSB0aGUgY3Vyc29yIGxpbmVcbiAgICBcbiAgICAvLyBJZiBub3QgZW5vdWdoIHNwYWNlIGFib3ZlLCBzaG93IGJlbG93XG4gICAgaWYgKHRvcCAtIGRyb3Bkb3duSGVpZ2h0IDwgMTApIHtcbiAgICAgIHRvcCA9IHRleHRhcmVhUmVjdC50b3AgKyBwYWRkaW5nVG9wICsgKChjdXJyZW50TGluZUluZGV4ICsgMSkgKiBsaW5lSGVpZ2h0KSAtIHNjcm9sbFRvcCArIDI7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFNob3cgYWJvdmUgLSBhZGp1c3QgdG9wIHRvIGFjY291bnQgZm9yIGRyb3Bkb3duIGhlaWdodFxuICAgICAgdG9wID0gdG9wIC0gZHJvcGRvd25IZWlnaHQ7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7IHRvcCwgbGVmdCB9O1xuICB9LCBbXSk7XG5cbiAgY29uc3QgaGFuZGxlSW5wdXRDaGFuZ2UgPSB1c2VDYWxsYmFjaygoZSkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgY29uc3QgY3Vyc29yUG9zaXRpb24gPSBlLnRhcmdldC5zZWxlY3Rpb25TdGFydDtcbiAgICBjb25zdCB0ZXh0QmVmb3JlQ3Vyc29yID0gdmFsdWUuc2xpY2UoMCwgY3Vyc29yUG9zaXRpb24pO1xuICAgIGNvbnN0IGxhc3RBdFN5bWJvbCA9IHRleHRCZWZvcmVDdXJzb3IubGFzdEluZGV4T2YoJ0AnKTtcblxuICAgIG9uTWVzc2FnZUNoYW5nZShlKTtcblxuICAgIGlmIChsYXN0QXRTeW1ib2wgIT09IC0xKSB7XG4gICAgICBjb25zdCB0ZXh0QWZ0ZXJBdCA9IHRleHRCZWZvcmVDdXJzb3Iuc2xpY2UobGFzdEF0U3ltYm9sICsgMSk7XG4gICAgICBjb25zdCBoYXNTcGFjZUFmdGVyQXQgPSB0ZXh0QWZ0ZXJBdC5pbmNsdWRlcygnICcpO1xuICAgICAgXG4gICAgICBpZiAoIWhhc1NwYWNlQWZ0ZXJBdCkge1xuICAgICAgICBzZXRNZW50aW9uRmlsdGVyKHRleHRBZnRlckF0LnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICBzZXRTaG93TWVudGlvbkxpc3QodHJ1ZSk7XG4gICAgICAgIHNldE1lbnRpb25JbmRleCgwKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENhbGN1bGF0ZSBhbmQgc2V0IG1lbnRpb24gZHJvcGRvd24gcG9zaXRpb25cbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSBjYWxjdWxhdGVNZW50aW9uUG9zaXRpb24oZS50YXJnZXQsIGxhc3RBdFN5bWJvbCk7XG4gICAgICAgIHNldE1lbnRpb25Qb3NpdGlvbihwb3NpdGlvbik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgc2V0U2hvd01lbnRpb25MaXN0KGZhbHNlKTtcbiAgfSwgW29uTWVzc2FnZUNoYW5nZSwgc2V0TWVudGlvbkZpbHRlciwgc2V0U2hvd01lbnRpb25MaXN0LCBzZXRNZW50aW9uSW5kZXgsIGNhbGN1bGF0ZU1lbnRpb25Qb3NpdGlvbl0pO1xuXG4gIGNvbnN0IGhhbmRsZU1lbnRpb25TZWxlY3QgPSB1c2VDYWxsYmFjaygodXNlcikgPT4ge1xuICAgIGlmICghbWVzc2FnZUlucHV0UmVmPy5jdXJyZW50KSByZXR1cm47XG5cbiAgICBjb25zdCBjdXJzb3JQb3NpdGlvbiA9IG1lc3NhZ2VJbnB1dFJlZi5jdXJyZW50LnNlbGVjdGlvblN0YXJ0O1xuICAgIGNvbnN0IHRleHRCZWZvcmVDdXJzb3IgPSBtZXNzYWdlLnNsaWNlKDAsIGN1cnNvclBvc2l0aW9uKTtcbiAgICBjb25zdCB0ZXh0QWZ0ZXJDdXJzb3IgPSBtZXNzYWdlLnNsaWNlKGN1cnNvclBvc2l0aW9uKTtcbiAgICBjb25zdCBsYXN0QXRTeW1ib2wgPSB0ZXh0QmVmb3JlQ3Vyc29yLmxhc3RJbmRleE9mKCdAJyk7XG5cbiAgICBpZiAobGFzdEF0U3ltYm9sICE9PSAtMSkge1xuICAgICAgY29uc3QgbmV3TWVzc2FnZSA9IFxuICAgICAgICBtZXNzYWdlLnNsaWNlKDAsIGxhc3RBdFN5bWJvbCkgK1xuICAgICAgICBgQCR7dXNlci5uYW1lfSBgICtcbiAgICAgICAgdGV4dEFmdGVyQ3Vyc29yO1xuXG4gICAgICBzZXRNZXNzYWdlKG5ld01lc3NhZ2UpO1xuICAgICAgc2V0U2hvd01lbnRpb25MaXN0KGZhbHNlKTtcblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmIChtZXNzYWdlSW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgICAgIGNvbnN0IG5ld1Bvc2l0aW9uID0gbGFzdEF0U3ltYm9sICsgdXNlci5uYW1lLmxlbmd0aCArIDI7XG4gICAgICAgICAgbWVzc2FnZUlucHV0UmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICAgICAgICBtZXNzYWdlSW5wdXRSZWYuY3VycmVudC5zZXRTZWxlY3Rpb25SYW5nZShuZXdQb3NpdGlvbiwgbmV3UG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgICB9LCAwKTtcbiAgICB9XG4gIH0sIFttZXNzYWdlLCBzZXRNZXNzYWdlLCBzZXRTaG93TWVudGlvbkxpc3QsIG1lc3NhZ2VJbnB1dFJlZl0pO1xuXG4gIGNvbnN0IGhhbmRsZUtleURvd24gPSB1c2VDYWxsYmFjaygoZSkgPT4ge1xuICAgIGlmIChzaG93TWVudGlvbkxpc3QpIHtcbiAgICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IGdldEZpbHRlcmVkUGFydGljaXBhbnRzKHJvb20pOyAvLyByb29tIOqwneyytCDsoITri6xcbiAgICAgIGNvbnN0IHBhcnRpY2lwYW50c0NvdW50ID0gcGFydGljaXBhbnRzLmxlbmd0aDtcblxuICAgICAgc3dpdGNoIChlLmtleSkge1xuICAgICAgICBjYXNlICdBcnJvd0Rvd24nOlxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBzZXRNZW50aW9uSW5kZXgocHJldiA9PiBcbiAgICAgICAgICAgIHByZXYgPCBwYXJ0aWNpcGFudHNDb3VudCAtIDEgPyBwcmV2ICsgMSA6IDBcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ0Fycm93VXAnOlxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBzZXRNZW50aW9uSW5kZXgocHJldiA9PiBcbiAgICAgICAgICAgIHByZXYgPiAwID8gcHJldiAtIDEgOiBwYXJ0aWNpcGFudHNDb3VudCAtIDFcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ1RhYic6XG4gICAgICAgIGNhc2UgJ0VudGVyJzpcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgaWYgKHBhcnRpY2lwYW50c0NvdW50ID4gMCkge1xuICAgICAgICAgICAgaGFuZGxlTWVudGlvblNlbGVjdChwYXJ0aWNpcGFudHNbbWVudGlvbkluZGV4XSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ0VzY2FwZSc6XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHNldFNob3dNZW50aW9uTGlzdChmYWxzZSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChlLmtleSA9PT0gJ0VudGVyJyAmJiAhZS5zaGlmdEtleSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKG1lc3NhZ2UudHJpbSgpIHx8IGZpbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaGFuZGxlU3VibWl0KGUpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09ICdFc2NhcGUnICYmIHNob3dFbW9qaVBpY2tlcikge1xuICAgICAgc2V0U2hvd0Vtb2ppUGlja2VyKGZhbHNlKTtcbiAgICB9XG4gIH0sIFtcbiAgICBtZXNzYWdlLFxuICAgIGZpbGVzLFxuICAgIHNob3dNZW50aW9uTGlzdCxcbiAgICBzaG93RW1vamlQaWNrZXIsXG4gICAgbWVudGlvbkluZGV4LFxuICAgIGdldEZpbHRlcmVkUGFydGljaXBhbnRzLFxuICAgIGhhbmRsZU1lbnRpb25TZWxlY3QsXG4gICAgaGFuZGxlU3VibWl0LFxuICAgIHNldE1lbnRpb25JbmRleCxcbiAgICBzZXRTaG93TWVudGlvbkxpc3QsXG4gICAgc2V0U2hvd0Vtb2ppUGlja2VyLFxuICAgIHJvb20gLy8gcm9vbSDsnZjsobTshLEg7LaU6rCAXG4gIF0pO1xuXG4gIGNvbnN0IGhhbmRsZUVtb2ppU2VsZWN0ID0gdXNlQ2FsbGJhY2soKGVtb2ppKSA9PiB7XG4gICAgaWYgKCFtZXNzYWdlSW5wdXRSZWY/LmN1cnJlbnQpIHJldHVybjtcblxuICAgIGNvbnN0IGN1cnNvclBvc2l0aW9uID0gbWVzc2FnZUlucHV0UmVmLmN1cnJlbnQuc2VsZWN0aW9uU3RhcnQgfHwgbWVzc2FnZS5sZW5ndGg7XG4gICAgY29uc3QgbmV3TWVzc2FnZSA9IFxuICAgICAgbWVzc2FnZS5zbGljZSgwLCBjdXJzb3JQb3NpdGlvbikgKyBcbiAgICAgIGVtb2ppLm5hdGl2ZSArIFxuICAgICAgbWVzc2FnZS5zbGljZShjdXJzb3JQb3NpdGlvbik7XG4gICAgXG4gICAgc2V0TWVzc2FnZShuZXdNZXNzYWdlKTtcbiAgICBzZXRTaG93RW1vamlQaWNrZXIoZmFsc2UpO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAobWVzc2FnZUlucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY29uc3QgbmV3Q3Vyc29yUG9zaXRpb24gPSBjdXJzb3JQb3NpdGlvbiArIGVtb2ppLm5hdGl2ZS5sZW5ndGg7XG4gICAgICAgIG1lc3NhZ2VJbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgICAgIG1lc3NhZ2VJbnB1dFJlZi5jdXJyZW50LnNldFNlbGVjdGlvblJhbmdlKG5ld0N1cnNvclBvc2l0aW9uLCBuZXdDdXJzb3JQb3NpdGlvbik7XG4gICAgICB9XG4gICAgfSwgMCk7XG4gIH0sIFttZXNzYWdlLCBzZXRNZXNzYWdlLCBzZXRTaG93RW1vamlQaWNrZXIsIG1lc3NhZ2VJbnB1dFJlZl0pO1xuXG4gIGNvbnN0IHRvZ2dsZUVtb2ppUGlja2VyID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldFNob3dFbW9qaVBpY2tlcihwcmV2ID0+ICFwcmV2KTtcbiAgfSwgW3NldFNob3dFbW9qaVBpY2tlcl0pO1xuXG4gIGNvbnN0IGlzRGlzYWJsZWQgPSBkaXNhYmxlZCB8fCB1cGxvYWRpbmcgfHwgZXh0ZXJuYWxVcGxvYWRpbmc7XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPEJveFxuICAgICAgICByZWY9e2Ryb3Bab25lUmVmfVxuICAgICAgICBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiXG4gICAgICAgIHBhZGRpbmc9XCIkMjAwICQ0MDBcIlxuICAgICAgICBvbkRyYWdFbnRlcj17KGUpID0+IHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBzZXRJc0RyYWdnaW5nKHRydWUpO1xuICAgICAgICB9fVxuICAgICAgICBvbkRyYWdMZWF2ZT17KGUpID0+IHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBzZXRJc0RyYWdnaW5nKGZhbHNlKTtcbiAgICAgICAgfX1cbiAgICAgICAgb25EcmFnT3Zlcj17KGUpID0+IHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBzZXRJc0RyYWdnaW5nKHRydWUpO1xuICAgICAgICB9fVxuICAgICAgICBvbkRyb3A9e2hhbmRsZUZpbGVEcm9wfVxuICAgICAgPlxuICAgICAgICB7ZmlsZXMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgPEJveFxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLWZ1bGwgbGVmdC0wIHJpZ2h0LTAgbWItMiB6LTEwMDBcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxGaWxlUHJldmlld1xuICAgICAgICAgICAgICBmaWxlcz17ZmlsZXN9XG4gICAgICAgICAgICAgIHVwbG9hZGluZz17dXBsb2FkaW5nfVxuICAgICAgICAgICAgICB1cGxvYWRQcm9ncmVzcz17dXBsb2FkUHJvZ3Jlc3N9XG4gICAgICAgICAgICAgIHVwbG9hZEVycm9yPXt1cGxvYWRFcnJvcn1cbiAgICAgICAgICAgICAgb25SZW1vdmU9e2hhbmRsZUZpbGVSZW1vdmV9XG4gICAgICAgICAgICAgIG9uUmV0cnk9eygpID0+IHNldFVwbG9hZEVycm9yKG51bGwpfVxuICAgICAgICAgICAgICBzaG93RmlsZU5hbWU9e3RydWV9XG4gICAgICAgICAgICAgIHNob3dGaWxlU2l6ZT17dHJ1ZX1cbiAgICAgICAgICAgICAgdmFyaWFudD1cImRlZmF1bHRcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0JveD5cbiAgICAgICAgKX1cblxuICAgICAgICA8VlN0YWNrIGdhcD1cIiQxMDBcIiB3aWR0aD1cIjEwMCVcIj5cbiAgICAgICAgICA8VlN0YWNrIGdhcD1cIiQwMjVcIiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxuICAgICAgICAgICAgPEhTdGFjayBnYXA9XCIkMjAwXCI+XG4gICAgICAgICAgICAgICAgPFRleHRhcmVhXG4gICAgICAgICAgICAgICAgICByZWY9e21lc3NhZ2VJbnB1dFJlZn1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXttZXNzYWdlfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUlucHV0Q2hhbmdlfVxuICAgICAgICAgICAgICAgICAgb25LZXlEb3duPXtoYW5kbGVLZXlEb3dufVxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2lzRHJhZ2dpbmcgPyBcIu2MjOydvOydhCDsl6zquLDsl5Ag64aT7JWE7KO87IS47JqULlwiIDogXCLrqZTsi5zsp4Drpbwg7J6F66Cl7ZWY7IS47JqULi4uIChA66W8IOyeheugpe2VmOyXrCDrqZjshZgsIFNoaWZ0ICsgRW50ZXLroZwg7KSE67CU6r+IKVwifVxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzRGlzYWJsZWR9XG4gICAgICAgICAgICAgICAgICByb3dzPXsxfVxuICAgICAgICAgICAgICAgICAgYXV0b0NvbXBsZXRlPVwib2ZmXCJcbiAgICAgICAgICAgICAgICAgIHNwZWxsQ2hlY2s9XCJ0cnVlXCJcbiAgICAgICAgICAgICAgICAgIHNpemU9XCJ4bFwiXG4gICAgICAgICAgICAgICAgICBhdXRvUmVzaXplPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9XCJjaGF0LW1lc3NhZ2UtaW5wdXRcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICA8SWNvbkJ1dHRvblxuICAgICAgICAgICAgICAgIHNpemU9XCJ4bFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU3VibWl0fVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0Rpc2FibGVkIHx8ICghbWVzc2FnZS50cmltKCkgJiYgZmlsZXMubGVuZ3RoID09PSAwKX1cbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwi66mU7Iuc7KeAIOuztOuCtOq4sFwiXG4gICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9XCJjaGF0LXNlbmQtYnV0dG9uXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxTZW5kSWNvbiAvPlxuICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICA8L0hTdGFjaz5cblxuICAgICAgICAgICAgPEhTdGFjayBnYXA9XCIkMTAwXCI+XG4gICAgICAgICAgICAgIDxJY29uQnV0dG9uXG4gICAgICAgICAgICAgICAgcmVmPXtlbW9qaUJ1dHRvblJlZn1cbiAgICAgICAgICAgICAgICBjb2xvclBhbGV0dGU9XCJjb250cmFzdFwiXG4gICAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcbiAgICAgICAgICAgICAgICBzaXplPVwibWRcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZUVtb2ppUGlja2VyfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0Rpc2FibGVkfVxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCLsnbTrqqjti7DsvZhcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPExpa2VJY29uIC8+XG4gICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgICAgICBjb2xvclBhbGV0dGU9XCJjb250cmFzdFwiXG4gICAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcbiAgICAgICAgICAgICAgICBzaXplPVwibWRcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGZpbGVJbnB1dFJlZj8uY3VycmVudD8uY2xpY2soKX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNEaXNhYmxlZH1cbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwi7YyM7J28IOyyqOu2gFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8QXR0YWNoRmlsZU91dGxpbmVJY29uIC8+XG4gICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgIDwvSFN0YWNrPlxuXG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cImZpbGVcIlxuICAgICAgICAgICAgICByZWY9e2ZpbGVJbnB1dFJlZn1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVGaWxlVmFsaWRhdGlvbkFuZFByZXZpZXcoZS50YXJnZXQuZmlsZXM/LlswXSl9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IGRpc3BsYXk6ICdub25lJyB9fVxuICAgICAgICAgICAgICBhY2NlcHQ9XCJpbWFnZS8qLGFwcGxpY2F0aW9uL3BkZlwiXG4gICAgICAgICAgICAgIGRhdGEtdGVzdGlkPVwiZmlsZS11cGxvYWQtaW5wdXRcIlxuICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAge3Nob3dFbW9qaVBpY2tlciAmJiAoXG4gICAgICAgICAgICAgIDxCb3hcbiAgICAgICAgICAgICAgICByZWY9e2Vtb2ppUGlja2VyUmVmfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIGxlZnQtMCB6LTEwMDBcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPEVtb2ppUGlja2VyIFxuICAgICAgICAgICAgICAgICAgb25TZWxlY3Q9e2hhbmRsZUVtb2ppU2VsZWN0fVxuICAgICAgICAgICAgICAgICAgZW1vamlTaXplPXsyMH1cbiAgICAgICAgICAgICAgICAgIGVtb2ppQnV0dG9uU2l6ZT17MzZ9XG4gICAgICAgICAgICAgICAgICBwZXJMaW5lPXs4fVxuICAgICAgICAgICAgICAgICAgbWF4RnJlcXVlbnRSb3dzPXs0fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L1ZTdGFjaz5cbiAgICAgICAgPC9WU3RhY2s+XG4gICAgICA8L0JveD5cblxuICAgICAge3Nob3dNZW50aW9uTGlzdCAmJiAoXG4gICAgICAgIDxCb3hcbiAgICAgICAgICBjbGFzc05hbWU9XCJmaXhlZCB6LTk5OTlcIlxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICB0b3A6IGAke21lbnRpb25Qb3NpdGlvbi50b3B9cHhgLFxuICAgICAgICAgICAgbGVmdDogYCR7bWVudGlvblBvc2l0aW9uLmxlZnR9cHhgXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxNZW50aW9uRHJvcGRvd25cbiAgICAgICAgICAgIHBhcnRpY2lwYW50cz17Z2V0RmlsdGVyZWRQYXJ0aWNpcGFudHMocm9vbSl9XG4gICAgICAgICAgICBhY3RpdmVJbmRleD17bWVudGlvbkluZGV4fVxuICAgICAgICAgICAgb25TZWxlY3Q9e2hhbmRsZU1lbnRpb25TZWxlY3R9XG4gICAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhpbmRleCkgPT4gc2V0TWVudGlvbkluZGV4KGluZGV4KX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L0JveD5cbiAgICAgICl9XG4gICAgPC8+XG4gICk7XG59KTtcblxuQ2hhdElucHV0LmRpc3BsYXlOYW1lID0gJ0NoYXRJbnB1dCc7XG5cbmV4cG9ydCBkZWZhdWx0IENoYXRJbnB1dDsiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwiZm9yd2FyZFJlZiIsIkxpa2VJY29uIiwiQXR0YWNoRmlsZU91dGxpbmVJY29uIiwiU2VuZEljb24iLCJCdXR0b24iLCJJY29uQnV0dG9uIiwiVlN0YWNrIiwiSFN0YWNrIiwiQm94IiwiRmllbGQiLCJUZXh0YXJlYSIsIkVtb2ppUGlja2VyIiwiTWVudGlvbkRyb3Bkb3duIiwiRmlsZVByZXZpZXciLCJmaWxlU2VydmljZSIsIkNoYXRJbnB1dCIsInJlZiIsIm1lc3NhZ2UiLCJvbk1lc3NhZ2VDaGFuZ2UiLCJvblN1Ym1pdCIsIm9uRW1vamlUb2dnbGUiLCJvbkZpbGVTZWxlY3QiLCJmaWxlSW5wdXRSZWYiLCJkaXNhYmxlZCIsInVwbG9hZGluZyIsImV4dGVybmFsVXBsb2FkaW5nIiwic2hvd0Vtb2ppUGlja2VyIiwic2hvd01lbnRpb25MaXN0IiwibWVudGlvbkZpbHRlciIsIm1lbnRpb25JbmRleCIsImdldEZpbHRlcmVkUGFydGljaXBhbnRzIiwic2V0TWVzc2FnZSIsInNldFNob3dFbW9qaVBpY2tlciIsInNldFNob3dNZW50aW9uTGlzdCIsInNldE1lbnRpb25GaWx0ZXIiLCJzZXRNZW50aW9uSW5kZXgiLCJyb29tIiwiZW1vamlQaWNrZXJSZWYiLCJlbW9qaUJ1dHRvblJlZiIsImRyb3Bab25lUmVmIiwiaW50ZXJuYWxJbnB1dFJlZiIsIm1lc3NhZ2VJbnB1dFJlZiIsImZpbGVzIiwic2V0RmlsZXMiLCJzZXRVcGxvYWRpbmciLCJ1cGxvYWRQcm9ncmVzcyIsInNldFVwbG9hZFByb2dyZXNzIiwidXBsb2FkRXJyb3IiLCJzZXRVcGxvYWRFcnJvciIsImlzRHJhZ2dpbmciLCJzZXRJc0RyYWdnaW5nIiwibWVudGlvblBvc2l0aW9uIiwic2V0TWVudGlvblBvc2l0aW9uIiwidG9wIiwibGVmdCIsInN1Ym1pdHRpbmdSZWYiLCJoYW5kbGVGaWxlVmFsaWRhdGlvbkFuZFByZXZpZXciLCJmaWxlIiwidmFsaWRhdGVGaWxlIiwiZmlsZVByZXZpZXciLCJ1cmwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJuYW1lIiwidHlwZSIsInNpemUiLCJwcmV2IiwiZXJyb3IiLCJjb25zb2xlIiwiY3VycmVudCIsInZhbHVlIiwiaGFuZGxlRmlsZVJlbW92ZSIsImZpbGVUb1JlbW92ZSIsImZpbHRlciIsInJldm9rZU9iamVjdFVSTCIsImhhbmRsZUZpbGVEcm9wIiwiZSIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiZHJvcHBlZEZpbGVzIiwiQXJyYXkiLCJmcm9tIiwiZGF0YVRyYW5zZmVyIiwibGVuZ3RoIiwiaGFuZGxlU3VibWl0IiwiRXJyb3IiLCJjb250ZW50IiwidHJpbSIsImZpbGVEYXRhIiwic2V0VGltZW91dCIsImhhbmRsZUNsaWNrT3V0c2lkZSIsImV2ZW50IiwiY29udGFpbnMiLCJ0YXJnZXQiLCJoYW5kbGVQYXN0ZSIsIml0ZW1zIiwiY2xpcGJvYXJkRGF0YSIsImZpbGVJdGVtIiwiZmluZCIsIml0ZW0iLCJraW5kIiwic3RhcnRzV2l0aCIsImdldEFzRmlsZSIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJmb3JFYWNoIiwiY2FsY3VsYXRlTWVudGlvblBvc2l0aW9uIiwidGV4dGFyZWEiLCJhdEluZGV4IiwidGV4dEJlZm9yZUF0Iiwic2xpY2UiLCJsaW5lcyIsInNwbGl0IiwiY3VycmVudExpbmVJbmRleCIsImN1cnJlbnRMaW5lVGV4dCIsIm1lYXN1cmVEaXYiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJwb3NpdGlvbiIsInZpc2liaWxpdHkiLCJ3aGl0ZVNwYWNlIiwiZm9udCIsIndpbmRvdyIsImdldENvbXB1dGVkU3R5bGUiLCJmb250U2l6ZSIsImZvbnRGYW1pbHkiLCJmb250V2VpZ2h0IiwibGV0dGVyU3BhY2luZyIsInRleHRUcmFuc2Zvcm0iLCJ0ZXh0Q29udGVudCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsInRleHRXaWR0aCIsIm9mZnNldFdpZHRoIiwicmVtb3ZlQ2hpbGQiLCJ0ZXh0YXJlYVJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjb21wdXRlZFN0eWxlIiwicGFkZGluZ0xlZnQiLCJwYXJzZUludCIsInBhZGRpbmdUb3AiLCJsaW5lSGVpZ2h0IiwicGFyc2VGbG9hdCIsInNjcm9sbFRvcCIsImRyb3Bkb3duV2lkdGgiLCJkcm9wZG93bkhlaWdodCIsInZpZXdwb3J0V2lkdGgiLCJpbm5lcldpZHRoIiwidmlld3BvcnRIZWlnaHQiLCJpbm5lckhlaWdodCIsImhhbmRsZUlucHV0Q2hhbmdlIiwiY3Vyc29yUG9zaXRpb24iLCJzZWxlY3Rpb25TdGFydCIsInRleHRCZWZvcmVDdXJzb3IiLCJsYXN0QXRTeW1ib2wiLCJsYXN0SW5kZXhPZiIsInRleHRBZnRlckF0IiwiaGFzU3BhY2VBZnRlckF0IiwiaW5jbHVkZXMiLCJ0b0xvd2VyQ2FzZSIsImhhbmRsZU1lbnRpb25TZWxlY3QiLCJ1c2VyIiwidGV4dEFmdGVyQ3Vyc29yIiwibmV3TWVzc2FnZSIsIm5ld1Bvc2l0aW9uIiwiZm9jdXMiLCJzZXRTZWxlY3Rpb25SYW5nZSIsImhhbmRsZUtleURvd24iLCJwYXJ0aWNpcGFudHMiLCJwYXJ0aWNpcGFudHNDb3VudCIsImtleSIsInNoaWZ0S2V5IiwiaGFuZGxlRW1vamlTZWxlY3QiLCJlbW9qaSIsIm5hdGl2ZSIsIm5ld0N1cnNvclBvc2l0aW9uIiwidG9nZ2xlRW1vamlQaWNrZXIiLCJpc0Rpc2FibGVkIiwiY2xhc3NOYW1lIiwicGFkZGluZyIsIm9uRHJhZ0VudGVyIiwib25EcmFnTGVhdmUiLCJvbkRyYWdPdmVyIiwib25Ecm9wIiwib25SZW1vdmUiLCJvblJldHJ5Iiwic2hvd0ZpbGVOYW1lIiwic2hvd0ZpbGVTaXplIiwidmFyaWFudCIsImdhcCIsIndpZHRoIiwib25DaGFuZ2UiLCJvbktleURvd24iLCJwbGFjZWhvbGRlciIsInJvd3MiLCJhdXRvQ29tcGxldGUiLCJzcGVsbENoZWNrIiwiYXV0b1Jlc2l6ZSIsImRhdGEtdGVzdGlkIiwib25DbGljayIsImFyaWEtbGFiZWwiLCJjb2xvclBhbGV0dGUiLCJjbGljayIsImlucHV0IiwiZGlzcGxheSIsImFjY2VwdCIsIm9uU2VsZWN0IiwiZW1vamlTaXplIiwiZW1vamlCdXR0b25TaXplIiwicGVyTGluZSIsIm1heEZyZXF1ZW50Um93cyIsImFjdGl2ZUluZGV4Iiwib25Nb3VzZUVudGVyIiwiaW5kZXgiLCJkaXNwbGF5TmFtZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./components/ChatInput.js\n"));

/***/ })

});